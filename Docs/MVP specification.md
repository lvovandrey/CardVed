# Технические требования для MVP (версии с минимальным полезным функционалом)

## Состав

- UI Пользователя (управления объектами в Хранилище)
- Card.RepoApi - API для доступа к данным хранилища
- Card.Identity - сервис идентификации 
- UI Обучающегося
  
## Требования к компонентам

### Общие требования (требования рабочего процесса (enterprise buisnes rules))
1. Карточка должна обладать следующими свойствами:
- изображение объекта
- текст-название изображенного объекта
- произносимый текст

2. На этапе MVP рассматривается только способ предъявления - выбор одной Карточки из нескольких предъявленных

### Требования к UI Пользователя

1. Авторизация Пользователя.
2. Возможность создавать, удалять и редактировать Карточку.
3. Возможность создавать, удалять и редактировать Сцены.
4. Возможность создавать, удалять и редактирвовать Сценарии.
5. Должны отображаться только Сценарии, Сцены и Карточки, которые создал данный Пользователь.
6. Все Сценарии Пользователя в этой версии собраны в одну Группу сценариев (нет возможности создавать другие группы). Однако, сам механизм объединения Сценариев в Группы сценариев должен присутствовать.
7. Нет возможности создавать Правила предъявления. Но сами Правила предъявления должны быть представленный в системе (коде и БД) в виде сущностей. В MVP все пользователи имеют только 1 Правило предъявления, которое автоматически прикрепляется к Группе сценариев Пользователя.
8. Порядок сцен существует только 1 (и автоматически прикреплен к единственным Правилам предъявления).

__Описание Порядка сцен__
Используется Порядок сцен - последовательно одна за другой. Предъявления сцен происходят до тех пор, пока для каждой предъявленной Сцены не будет хотя бы 1 раз правильно решена Задача. Сцена с правильно решенной Задачей повторно не предъявляется.

__Описание других Правил предъявления__
Правила предъявления представляют собой алгоритм формирования и предъявления Сцен.

Алгоритм для одной сцены следующий.
1. Для каждого следующего предъявления формируется Сцена, с Карточкой, для которой еще не была правильно решена Задача. Карточка выбирается рандомно из оставшихся "нерешенных". 
2. Изображение для сцены формируется следующим образом. Выводятся все Карточки Сценария (неважно, решенные или нет) в уменьшенном виде. Карточки размещаются на сетке (WrapPanel) по всему экрану. 
3. Произносимый текст Карточки озвучивается системой вместе с инструкцией Задачи (напр., "Покажи, где яблоко?")
4. Ожидаются действия Обучающегося в течении заданного Пользователем времени (напр. 20 секунд)
5. Если действие (клик по одной из уменьшенных Карточек) не произошло - повторяется п.3
6. Если действие произошло проверяется правильность выбора.
7. Если выбор неверный - произносится озвучка неверного ответа (напр. "Неправильно") и повторяются пункты начиная с п.2.
8. Если выбор верный - Карточка и ее сцена помечаются как "Решенные". Сцена заканчивается и начинается следующая (весь алгоритм повторяется с начала)
   
Алгоритм для всего Сценария следующий.
1. Пользователь выбирает Сценарий и запускает его на выполнение. После этого с системой работает Обучающийся.
2. В цикле Обучающемуся предъявляются Сцены.
3. После каждой итерации цикла проверяется - есть ли еще в Сценарии карточки, не помеченные как "решенные". 
4. Если таких карточек нет - Сценарий завершается.
5. Если такие карточки есть - цикл переходит к следующей итерации (и соответственно Сцене).
6. В любой момент Пользователь может прервать Сценарий с помощью скрытой кнопки (или специального сочетания клавиш).

## Этапы работ

Полностью MVP планируется завершить за 5 месяцев (к 1 августа 2024)

### Этап разработки ТЗ (с 23 февраля 2024)
- Разработка требований к системе
- Теоретическое обоснование
- Разработка сценариев использования системы пользователем
- Предварительный макет UI Пользователя и UI обучающегося

### Этап эскизного проекта с 20 марта 
- разработка архитектуры системы
- состав системы (конкретные сервисы, их целевое назначение, названия)
- выбор технологий для обмена данных между сервисами и обоснование
- выбор технологий для создания UI-приложений
- макет Figma UI Пользователя и UI Обучающегося

### Этап 1. Создание ядра приложения 
- создание проектов всех приложений и настройка связей между ними
- создание основных сущностей в Core-слое
- создание бизнес-логики работы с сущностями
- создание основной логики работы с БД 

### Этап 2. Создание инфраструктуры для работы с Хранилищем
- RepoAPI
- заготовка UI Пользователя

### Этап 3. Создание инфраструктуры для работы с Пользователями
- сервер идентификации
- UsersApi 
- БД Users

### Этап 4. Создание UI Обучающегося


